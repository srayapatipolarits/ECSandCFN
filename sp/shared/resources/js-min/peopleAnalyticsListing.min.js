angular.module("spApp").directive("peopleAnalyticsListing",["spConfig","ajaxService","sharedProperties","$q","$state",function(spConfig,ajaxService,sharedProperties,$q,$state){var peopleAnalytics={restrict:"EA",replace:!0,templateUrl:function(element,attrs){return"/sp/resources/html/people-analytics/"+attrs.urlSrc},link:function(scope,element,attrs){var vm=scope;vm.activeView=" ",vm.permissionLevel=sharedProperties.checkPermission(),vm.updateView=function(viewName,clearPrev,email){vm.activeView=viewName,sharedProperties.fireAnalyticsEvent("People Analytics | Tools",vm.activeView),email?$state.transitionTo(vm.activeView,{email:email},{reload:!0}):$state.transitionTo(vm.activeView)},vm.init=function(){""===window.location.hash?vm.activeView="employeesModule":vm.activeView=window.location.href.split("#/")[1]+"Module",$state.go(vm.activeView)};var stateNotFound=vm.$on("$stateNotFound",function(event){stateNotFound(),event.preventDefault(),vm.activeView="employeesModule",$state.transitionTo(vm.activeView)});vm.init()}};return peopleAnalytics}]);