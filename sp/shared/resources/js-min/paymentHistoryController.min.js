function paymentHistoryController($scope,$element,$attrs,$http,$rootScope,ajaxService){$scope.priceFormatter=function(p){if(void 0!==p&&""!==p&&null!==p){return"$"+p.toFixed(2)}},ajaxService.getAjaxResponse({url:"/sp/admin/account/paymentHistory"}).then(function(response){if("true"===response.Success)$scope.paymentDetails=response.paymentHistory;else{$scope.serverError=!0;for(var key in response.error)$scope.errorMessage=response.error[key]}}),$scope.cancelRedirect=function(){var url=window.location.href,isIndividual=url.substring(url.indexOf("#")+1).replace(/\//g,"").split("?")[1];window.location="i"===isIndividual?"/sp/admin/account/individual":"/sp/admin/account/business"}}function paymentHistoryAlternateController($scope,$element,$attrs,$http,$rootScope,ajaxService,sharedProperties){$scope.priceFormatter=function(p){if(void 0!==p&&""!==p&&null!==p){return"$"+p.toFixed(2)}},ajaxService.getAjaxResponse({url:"/sp/sysAdmin/alternateBilling/account/paymentHistory",data:$.param({accountId:sharedProperties.getParam("accountId"),spPlanType:sharedProperties.getParam("plan")})}).then(function(response){if("true"===response.Success)$scope.paymentDetails=response.paymentHistory,$scope.accountId=sharedProperties.getParam("accountId");else{$scope.serverError=!0;for(var key in response.error)$scope.errorMessage=response.error[key]}}),$scope.cancelRedirect=function(i){var isIndividual=sharedProperties.getParam("mode");window.location="i"===isIndividual?"/sp/sysAdmin/alternateBilling/viewDetailAccountIndividual?accountId="+sharedProperties.getParam("accountId"):"/sp/sysAdmin/alternateBilling/viewDetailAccount?accountId="+sharedProperties.getParam("accountId")}}angular.module("spApp").controller("paymentHistoryController",paymentHistoryController),angular.module("spApp").controller("paymentHistoryAlternateController",paymentHistoryAlternateController),paymentHistoryController.$inject=["$scope","$element","$attrs","$http","$rootScope","ajaxService"],paymentHistoryAlternateController.$inject=["$scope","$element","$attrs","$http","$rootScope","ajaxService","sharedProperties"];