function supportController($scope,$rootScope,$localStorage,ngDialog,sharedProperties){function userType(){var userRoles=$localStorage.get("loggegdInProfile").member.roles;userRoles.indexOf("AccountAdministrator");$scope.permissions={adminFlag:-1!==userRoles.indexOf("AccountAdministrator"),spectrum:-1!==userRoles.indexOf("Spectrum"),pulse:-1!==userRoles.indexOf("Pulse"),blueprint:-1!==userRoles.indexOf("Blueprint"),OrganizationPlan:-1!==userRoles.indexOf("OrganizationPlan"),relationShipAdvisor:-1!==userRoles.indexOf("RelationShipAdvisor"),prism:-1!==userRoles.indexOf("Prism"),prismLens:-1!==userRoles.indexOf("PrismLens"),competency:-1!==userRoles.indexOf("Competency"),competencyAdmin:-1!==userRoles.indexOf("CompetencyAdmin"),hiringFlag:-1!==userRoles.indexOf("Hiring"),groupLead:-1!==userRoles.indexOf("GroupLead")},$scope.userEmail=$localStorage.get("loggegdInProfile").member.email}$scope.videoReady=!1,$scope.permissions={adminFlag:!1,spectrum:!1,pulse:!1,blueprint:!1,OrganizationPlan:!1,relationShipAdvisor:!1,prism:!1,prismLens:!1,competency:!1,competencyAdmin:!1,hiringFlag:!1,groupLead:!1},$scope.mobile=$(window).width()<768,$scope.userInfo=$localStorage.get("loggegdInProfile"),jQuery(function($){if($(".support-body").length){var $toggleFaq=$(".section-faq-header"),$list=$(".nav-support-link-list"),$contentArea=$(".main-support-content"),$iniSectionFaq=$(".section-faq.defaultOpen"),$upTarget=($iniSectionFaq.find(".section-faq-content").outerHeight(),$iniSectionFaq.find(".x-section-faq-content")),$mobileNavSupport=$(".mobileNavigationSupport"),_href=window.location.href,status=sharedProperties.getParam("submit");$iniSectionFaq.addClass("show"),$(".js_hostName").val(_href+"?submit=support"),null!=status&&sharedProperties.growlMessage($rootScope.pullInterNationalization("support.alertMsg")),setTimeout(function(){$toggleFaq.css({WebkitTransition:"all 400ms ease-in-out",MozTransition:"all 400ms ease-in-out",MsTransition:"all 400ms ease-in-out",OTransition:"all 400ms ease-in-out",transition:"all 400ms ease-in-out"})},500),$upTarget.height("100%"),$toggleFaq.on("click",function(){var $this=$(this),$html=$this.closest(".section-faq"),$upTarget=$html.find(".x-section-faq-content"),$upTargetHeight=$upTarget.outerHeight(),$elHeight=$html.find(".section-faq-content").outerHeight();if($this.hasClass("noAction"))return!1;$upTargetHeight>1?$upTarget.height(0):$upTarget.height($elHeight),$html.toggleClass("show")}),$(".js_helpFormSubmit").on("click",function(event){var messageVal=$(".js_message_type").val(),textLength=$(".js_textarea").val().length,$messageErr=$(".js_select_error"),$textErr=$(".js_narrow_message");"-1"===messageVal?$messageErr.addClass("support_show"):$messageErr.addClass("support_hide"),textLength<20?($(".js_textarea").addClass("extra-spacing"),$textErr.addClass("support_show")):($textErr.addClass("support_hide"),$(".js_textarea").removeClass("extra-spacing")),"-1"!==messageVal&&textLength>19?$(".js_help_form").submit():event.preventDefault()}),$list.find("li a").on("click",function(){var _this=$(this),listId=_this.attr("data-list"),text=_this.text();toggleHideShow(listId,_this),$(".mobileNavigationText").find(".selectedTabText").html(text)}),$mobileNavSupport.length&&$mobileNavSupport.find("li a").on("click",function(){var _this=$(this),listId=_this.attr("data-list"),text=_this.text();toggleHideShow(listId,_this),$list.find("li a").removeClass("active"),$list.find("li a[data-list='"+listId+"']").addClass("active"),$(".mobileNavigationText").find(".selectedTabText").html(text)});var toggleHideShow=function(listId,_this){$list.find("li a").removeClass("active"),_this.addClass("active"),$contentArea.find(".support-customer").removeClass("local-show"),$contentArea.find(".support-customer[data-tab='"+listId+"']").addClass("local-show")};!function(){$("textarea").focus(function(){this.placeholder===this.value&&(this.value="")}).blur(function(){""===this.value&&(this.value=this.placeholder)})}()}}),$scope.videoPopUp=function(url){sharedProperties.videoPopUp(url)},$scope.clickActivity=function(id){var $this=$("#"+id).find(".section-faq-header"),$html=$this.closest(".section-faq"),$upTarget=$html.find(".x-section-faq-content"),$upTargetHeight=$upTarget.outerHeight(),$elHeight=$html.find(".section-faq-content").outerHeight();if($this.hasClass("noAction"))return!1;$upTargetHeight>1?$upTarget.height(0):$upTarget.height($elHeight),$("html,body").animate({scrollTop:$this.offset().top-20},300),$html.toggleClass("show")};$scope.$on("updateUserInfoSSE",function(e){userType()});!function(){userType()}(),$scope.editProfileFn=function(){$rootScope.handleStickyTabs("profile")}}angular.module("spApp").controller("supportController",supportController),supportController.$inject=["$scope","$rootScope","$localStorage","ngDialog","sharedProperties"];