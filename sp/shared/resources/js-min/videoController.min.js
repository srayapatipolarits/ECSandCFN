function videoController($scope,$timeout,$rootScope,ngDialog,sharedProperties){function videoCall(){var videoSrc=sharedProperties.getVideoUrl();if(/youtube/g.test(videoSrc))vm.videoType="youtube";else if(/vimeo/g.test(videoSrc)){vm.videoType="vimeo";var link=videoSrc.split("?")[0].split("/");videoSrc="https://vimeo.com/"+link[parseInt(link.length-1)]}else vm.videoType="html5";"html5"!==vm.videoType&&setTimeout(function(){videojs(document.getElementById("vid1"),{autoplay:!0,techOrder:[vm.videoType],src:videoSrc},function(){this.on("ended",function(){var vid=this;vid.trigger("loadstart"),$timeout(function(){vid.posterImage.show()},500)}),this.on("timeupdate",function(){var ct=this.currentTime(),timeLeft=this.remainingTime();ct>0&&this.bigPlayButton.hide(),0===timeLeft&&this.bigPlayButton.show()})})},500)}var vm=this;vm.videoCall=videoCall,vm.videoType=""}angular.module("spApp").controller("videoController",videoController),videoController.$inject=["$scope","$timeout","$rootScope","ngDialog","sharedProperties"];